@if (authService.user()) {
	<button matButton routerLink="/people"><mat-icon fontIcon="emoji_people"></mat-icon>people</button>
	<button matButton routerLink="/feed"><mat-icon fontIcon="home"></mat-icon>feed</button>

	<button id="avatar" matButton [matMenuTriggerFor]="menu" style="margin-left: auto">
		{{ authService.user()?.username || '???' }}
		<img [src]="'/content/avatars/' + (authService.user()?.id || 'no') + '.jpg?v=' + queryParam()" />
	</button>
} @else {
	<h2 style="margin: 0.2rem 0">Welcome to gbook!</h2>
}

<mat-menu #menu="matMenu" xPosition="before">
	<button mat-menu-item routerLink="/profile">
		<mat-icon fontIcon="person"></mat-icon>
		My Profile
	</button>

	<button mat-menu-item (click)="dialog.open =!dialog.open">
		<mat-icon fontIcon="photo_camera"></mat-icon>
		Image
	</button>

	<button mat-menu-item (click)="logout()">
		<mat-icon fontIcon="logout"></mat-icon>
		Logout
	</button>
</mat-menu>

<dialog
	#dialog
	style="border-radius: var(--mat-sys-corner-small);border: 1px solid var(--mat-sys-primary);">
	<app-image-upload (end)="dialog.open = false; queryParam.set(queryParam() + 1)"></app-image-upload>
</dialog>